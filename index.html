import React, { useState } from 'react';
import { ChevronRight, Users, Truck, DollarSign, TrendingUp, CheckCircle } from 'lucide-react';

const BudgetPresentation = () => {
  const [activeSlide, setActiveSlide] = useState(0);

  const slides = [
    {
      title: "Programme Beta-Testeurs Famille",
      subtitle: "Smart Fridge - Phase Pré-Lancement",
      icon: <Users className="w-16 h-16 text-blue-500" />,
      content: (
        <div className="space-y-6">
          <div className="bg-blue-50 p-6 rounded-lg">
            <h3 className="text-xl font-semibold text-blue-900 mb-4">Objectif du Programme</h3>
            <div className="grid grid-cols-3 gap-4 text-center">
              <div>
                <div className="text-3xl font-bold text-blue-600">10</div>
                <div className="text-sm text-gray-600">Familles Testeuses</div>
              </div>
              <div>
                <div className="text-3xl font-bold text-blue-600">4</div>
                <div className="text-sm text-gray-600">Personnes par foyer</div>
              </div>
              <div>
                <div className="text-3xl font-bold text-blue-600">Déc 2025</div>
                <div className="text-sm text-gray-600">Lancement</div>
              </div>
            </div>
          </div>
          <div className="bg-white p-6 rounded-lg border-2 border-blue-200">
            <h4 className="font-semibold text-gray-800 mb-3">Profil Cœur de Cible</h4>
            <p className="text-gray-700 mb-2"><strong>Composition :</strong> Couple avec 2 enfants</p>
            <p className="text-gray-600 text-sm"><strong>Justification :</strong> Rotation rapide des stocks, fréquence d'ouverture élevée, interactions multiples avec l'interface digitale</p>
          </div>
        </div>
      )
    },
    {
      title: "Coûts Logistiques",
      subtitle: "Installation & Désinstallation",
      icon: <Truck className="w-16 h-16 text-green-500" />,
      content: (
        <div className="space-y-6">
          <div className="bg-green-50 p-6 rounded-lg">
            <h3 className="text-xl font-semibold text-green-900 mb-4">Prestation "Gants Blancs"</h3>
            <p className="text-gray-700 mb-4">Livraison, installation technique, connexion Wi-Fi et reprise du matériel</p>
          </div>
          
          <div className="grid grid-cols-2 gap-4">
            <div className="bg-white p-6 rounded-lg border-2 border-green-200">
              <h4 className="font-semibold text-gray-800 mb-3">Phase Installation</h4>
              <div className="space-y-2">
                <div className="flex justify-between">
                  <span className="text-gray-600">Coût unitaire</span>
                  <span className="font-semibold">300 €</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-600">Quantité</span>
                  <span className="font-semibold">10 familles</span>
                </div>
                <div className="border-t pt-2 flex justify-between">
                  <span className="font-bold text-gray-800">Total</span>
                  <span className="font-bold text-green-600">3 000 €</span>
                </div>
              </div>
            </div>

            <div className="bg-white p-6 rounded-lg border-2 border-green-200">
              <h4 className="font-semibold text-gray-800 mb-3">Phase Désinstallation</h4>
              <div className="space-y-2">
                <div className="flex justify-between">
                  <span className="text-gray-600">Coût unitaire</span>
                  <span className="font-semibold">300 €</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-600">Quantité</span>
                  <span className="font-semibold">10 familles</span>
                </div>
                <div className="border-t pt-2 flex justify-between">
                  <span className="font-bold text-gray-800">Total</span>
                  <span className="font-bold text-green-600">3 000 €</span>
                </div>
              </div>
            </div>
          </div>

          <div className="bg-green-600 text-white p-6 rounded-lg text-center">
            <div className="text-sm uppercase tracking-wide mb-2">Total Budget Logistique</div>
            <div className="text-4xl font-bold">6 000 €</div>
          </div>
        </div>
      )
    },
    {
      title: "Coûts Complémentaires",
      subtitle: "Optionnels mais Recommandés",
      icon: <DollarSign className="w-16 h-16 text-purple-500" />,
      content: (
        <div className="space-y-4">
          <div className="bg-purple-50 p-6 rounded-lg">
            <h3 className="text-xl font-semibold text-purple-900 mb-4">Au-delà de la logistique pure</h3>
            <p className="text-gray-700 text-sm">Coût de revient estimé : ~1 600 € par frigo | Prix de vente : 4 999 €</p>
          </div>

          <div className="space-y-3">
            <div className="bg-white p-4 rounded-lg border-l-4 border-purple-400 flex justify-between items-center">
              <div>
                <div className="font-semibold text-gray-800">Immobilisation de Stock</div>
                <div className="text-sm text-gray-600">10 frigos sortis du stock vendable</div>
              </div>
              <div className="text-right">
                <div className="font-bold text-purple-600">16 000 €</div>
                <div className="text-xs text-gray-500">(Non décaissé)</div>
              </div>
            </div>

            <div className="bg-white p-4 rounded-lg border-l-4 border-purple-400 flex justify-between items-center">
              <div>
                <div className="font-semibold text-gray-800">Assurance Transport</div>
                <div className="text-sm text-gray-600">Couverture casse/vol lors des 2 trajets</div>
              </div>
              <div className="font-bold text-purple-600">500 €</div>
            </div>

            <div className="bg-white p-4 rounded-lg border-l-4 border-purple-400 flex justify-between items-center">
              <div>
                <div className="font-semibold text-gray-800">Dédommagement Testeurs</div>
                <div className="text-sm text-gray-600">Chèque cadeau ou remise (150 €/famille)</div>
              </div>
              <div className="font-bold text-purple-600">1 500 €</div>
            </div>

            <div className="bg-white p-4 rounded-lg border-l-4 border-purple-400 flex justify-between items-center">
              <div>
                <div className="font-semibold text-gray-800">Nettoyage / Reconditionnement</div>
                <div className="text-sm text-gray-600">Remise à neuf après test (100 €/u)</div>
              </div>
              <div className="font-bold text-purple-600">1 000 €</div>
            </div>
          </div>
        </div>
      )
    },
    {
      title: "Synthèse Budgétaire",
      subtitle: "Vue d'Ensemble & Opportunités",
      icon: <TrendingUp className="w-16 h-16 text-orange-500" />,
      content: (
        <div className="space-y-6">
          <div className="bg-orange-50 p-6 rounded-lg">
            <h3 className="text-xl font-semibold text-orange-900 mb-4">Coût Cash (Décaissement Réel)</h3>
            <div className="space-y-3">
              <div className="flex justify-between items-center">
                <span className="text-gray-700">Logistique (Install/Désinstall)</span>
                <span className="font-semibold text-gray-800">6 000 €</span>
              </div>
              <div className="flex justify-between items-center">
                <span className="text-gray-700">Frais annexes (Assurance/Nettoyage)</span>
                <span className="font-semibold text-gray-800">1 500 €</span>
              </div>
              <div className="border-t-2 border-orange-300 pt-3 flex justify-between items-center">
                <span className="font-bold text-gray-900 text-lg">TOTAL À DÉCAISSER</span>
                <span className="font-bold text-orange-600 text-2xl">7 500 €</span>
              </div>
            </div>
          </div>

          <div className="bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-lg border-2 border-green-300">
            <h3 className="text-xl font-semibold text-green-900 mb-4 flex items-center">
              <CheckCircle className="w-6 h-6 mr-2" />
              Scénario "Rachat" - Optimisation
            </h3>
            <p className="text-gray-700 mb-4">Proposition aux familles satisfaites : conservation du frigo à tarif préférentiel "Testeur" (-50%)</p>
            
            <div className="space-y-2">
              <div className="flex items-start">
                <span className="bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-0.5">1</span>
                <div>
                  <div className="font-semibold text-gray-800">Économie désinstallation</div>
                  <div className="text-green-600 font-bold">Gain : 3 000 €</div>
                </div>
              </div>
              <div className="flex items-start">
                <span className="bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-0.5">2</span>
                <div>
                  <div className="font-semibold text-gray-800">Économie reconditionnement</div>
                  <div className="text-green-600 font-bold">Gain : 1 000 €</div>
                </div>
              </div>
              <div className="flex items-start">
                <span className="bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 mt-0.5">3</span>
                <div>
                  <div className="font-semibold text-gray-800">Transformation en chiffre d'affaires</div>
                  <div className="text-green-600 font-bold">Centre de coût → Revenus</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      )
    },
    {
      title: "Conclusion",
      subtitle: "Recommandations Finales",
      icon: <CheckCircle className="w-16 h-16 text-indigo-500" />,
      content: (
        <div className="space-y-6">
          <div className="bg-indigo-50 p-8 rounded-lg text-center">
            <h3 className="text-2xl font-bold text-indigo-900 mb-6">Budget Recommandé</h3>
            
            <div className="grid grid-cols-2 gap-6 mb-6">
              <div className="bg-white p-6 rounded-lg shadow">
                <div className="text-sm text-gray-600 mb-2">Budget Strict Logistique</div>
                <div className="text-3xl font-bold text-indigo-600">6 000 €</div>
              </div>
              <div className="bg-white p-6 rounded-lg shadow">
                <div className="text-sm text-gray-600 mb-2">Enveloppe de Sécurité</div>
                <div className="text-3xl font-bold text-orange-600">+ 1 500 €</div>
              </div>
            </div>

            <div className="bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-lg">
              <div className="text-sm uppercase tracking-wide mb-2">Budget Total Recommandé</div>
              <div className="text-5xl font-bold">7 500 €</div>
              <div className="text-sm mt-2 opacity-90">Assurances et imprévus techniques inclus</div>
            </div>
          </div>

          <div className="bg-white p-6 rounded-lg border-2 border-indigo-200">
            <h4 className="font-semibold text-gray-800 mb-3 flex items-center">
              <TrendingUp className="w-5 h-5 mr-2 text-indigo-600" />
              Points Clés à Retenir
            </h4>
            <ul className="space-y-2 text-gray-700">
              <li className="flex items-start">
                <span className="text-indigo-600 mr-2">•</span>
                <span>Le profil "Couple + 2 enfants" garantit des données d'usage pertinentes</span>
              </li>
              <li className="flex items-start">
                <span className="text-indigo-600 mr-2">•</span>
                <span>La prestation "Gants Blancs" assure une expérience premium pour les testeurs</span>
              </li>
              <li className="flex items-start">
                <span className="text-indigo-600 mr-2">•</span>
                <span>Le scénario "Rachat" peut transformer ce test en opportunité commerciale</span>
              </li>
              <li className="flex items-start">
                <span className="text-indigo-600 mr-2">•</span>
                <span>L'enveloppe de sécurité couvre les risques opérationnels</span>
              </li>
            </ul>
          </div>
        </div>
      )
    }
  ];

  const nextSlide = () => {
    setActiveSlide((prev) => (prev + 1) % slides.length);
  };

  const prevSlide = () => {
    setActiveSlide((prev) => (prev - 1 + slides.length) % slides.length);
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-8">
      <div className="max-w-5xl mx-auto">
        <div className="bg-white rounded-2xl shadow-2xl overflow-hidden">
          {/* Header */}
          <div className="bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-8">
            <div className="flex items-center justify-center mb-4">
              {slides[activeSlide].icon}
            </div>
            <h1 className="text-3xl font-bold text-center mb-2">{slides[activeSlide].title}</h1>
            <p className="text-center text-blue-100">{slides[activeSlide].subtitle}</p>
          </div>

          {/* Content */}
          <div className="p-8 min-h-[500px]">
            {slides[activeSlide].content}
          </div>

          {/* Navigation */}
          <div className="bg-gray-50 p-6 flex items-center justify-between border-t">
            <button
              onClick={prevSlide}
              className="px-6 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-lg transition-colors disabled:opacity-50"
              disabled={activeSlide === 0}
            >
              Précédent
            </button>

            <div className="flex space-x-2">
              {slides.map((_, index) => (
                <button
                  key={index}
                  onClick={() => setActiveSlide(index)}
                  className={`w-3 h-3 rounded-full transition-all ${
                    index === activeSlide
                      ? 'bg-blue-600 w-8'
                      : 'bg-gray-300 hover:bg-gray-400'
                  }`}
                />
              ))}
            </div>

            <button
              onClick={nextSlide}
              className="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center disabled:opacity-50"
              disabled={activeSlide === slides.length - 1}
            >
              Suivant
              <ChevronRight className="w-4 h-4 ml-2" />
            </button>
          </div>

          {/* Progress bar */}
          <div className="h-2 bg-gray-200">
            <div
              className="h-full bg-gradient-to-r from-blue-600 to-indigo-600 transition-all duration-300"
              style={{ width: `${((activeSlide + 1) / slides.length) * 100}%` }}
            />
          </div>
        </div>
      </div>
    </div>
  );
};

export default BudgetPresentation;
